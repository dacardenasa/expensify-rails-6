<!-- Template js to add created item to the table through render row template -->
<% if @expense.errors.empty? %>
  // Update info expense into table
  $('table tbody').prepend(' <%= j render "row", expense: @expense %>');
  // Show sucess alert to user
  swal({
  title: "Expense created!",
  text: "The <%= j "#{ @expense.type } #{ @expense.concept } for #{ number_to_currency(@expense.amount) } on #{ @expense.date } was created successfully!" %> ",
  icon: "success",
  button: "ok",
  });
  // Hide modal
  $('#modal-articles').modal("hide");
  $('.modal-backdrop').remove();
  
  // Update summary values
  $("#total").html("<%= j number_to_currency(Expense.all.sum(:amount)) %>")
  $("#transactions").html("<%= j Expense.all.count() %>")
  $("#average").html("<%= j number_to_currency(Expense.all.sum(:amount) / Expense.all.count()) %>")

<% else %>
  // Show error alert to user
  swal({
    title: "Something went wrong!",
    text: "<%= j @expense.errors.full_messages[0] %>",
    icon: "error",
    button: "ok",
  });
<% end %>
